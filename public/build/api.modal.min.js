/* 2016-06-02 / !function(a,b){"use strict";return"undefined"!=typeof b&&b===window&&(b.api&&b.api.dom||b.jQuery)?(b.api||(b.api={}),void(b.api.modal=a(b,b.jQuery||b.api.dom))):!1}(function(a,b,c){"use strict";!a.jQuery&&a.api&&a.api.xhr&&(b.ajax=a.api.xhr);var d={};a.api&&a.api.env?d=a.api.env:(d={check:{mobile:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)),touch:"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,fullscreen:document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},monitor:"pc",browser:{name:null,version:null,scrollbar:function(){var a=document.createElement("div"),b=0;return a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.documentElement.appendChild(a),b=a.offsetWidth-a.clientWidth,document.documentElement.removeChild(a),b}()},event:{resize:"onorientationchange"in window?"orientationchange":"resize",down:"mousedown",move:"mousemove",up:"mouseup",click:"click"}},d.check.touch===!0&&(d.event.down="touchstart",d.event.move="touchmove",d.event.up="touchend",d.event.click=window.DocumentTouch&&document instanceof DocumentTouch?"tap":"click"),function(){var a,b,c=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase(),e=navigator.platform;/android/i.test(c)?/mobile/i.test(c)?d.monitor="mobile":d.monitor="tablet":/(iphone|ipad|ipod)/i.test(c)?/ipad/i.test(c)?d.monitor="tablet":d.monitor="mobile":d.check.mobile?d.monitor="mobile":/(MacIntel|MacPPC)/i.test(e)?d.monitor="pc":/(win32|win64)/i.test(e)&&(d.monitor="pc"),d.browser.name=navigator.appName,d.browser.version=String(parseFloat(navigator.appVersion)),-1!==(b=c.indexOf("opr/"))?(d.browser.name="opera",d.browser.version=c.substring(b+4)):-1!==(b=c.indexOf("opera"))?(d.browser.name="opera",d.browser.version=c.substring(b+6),-1!==(b=c.indexOf("version"))&&(d.browser.version=c.substring(b+8))):-1!==(b=c.indexOf("msie"))?(d.browser.name="explorer",d.browser.version=c.substring(b+5)):-1!==(b=c.indexOf("chrome"))?(d.browser.name="chrome",d.browser.version=c.substring(b+7)):-1!==(b=c.indexOf("safari"))?(d.browser.name="safari",d.browser.version=c.substring(b+7),-1!==(b=c.indexOf("version"))&&(d.browser.version=c.substring(b+8))):-1!==(b=c.indexOf("firefox"))?(d.browser.name="firefox",d.browser.version=c.substring(b+8)):(a=c.lastIndexOf(" ")+1)<(b=c.lastIndexOf("/"))&&(d.browser.name=c.substring(a,b),d.browser.version=c.substring(b+1),d.browser.name.toLowerCase()===d.browser.name.toUpperCase()&&(d.browser.name=navigator.appName)),-1!==(b=d.browser.version.indexOf(";"))&&(d.browser.version=d.browser.version.substring(0,b)),-1!==(b=d.browser.version.indexOf(" "))&&(d.browser.version=d.browser.version.substring(0,b))}());var e;e=a.api&&a.api.key?a.api.key:function(){return["api",(new Date).getTime(),(Math.random()*(1<<30)).toString(16).replace(".","")].join("").substr(0,24)};var f=function(){function a(){var a=this;a.zindex=200,a.active,a.instance={},a.elements={},a.init()}return a.prototype={init:function(){var a;if(document.body&&(!this.elements.container||"object"!=typeof this.elements.container||!this.elements.container.nodeType)){a=document.createDocumentFragment(),this.elements.container=document.createElement("div"),this.elements.container.style.cssText="z-index: 2147483647;",a.appendChild(this.elements.container),this.elements.layer=document.createElement("div"),this.elements.container.appendChild(this.elements.layer),this.elements.step=document.createElement("div"),this.elements.container.appendChild(this.elements.step),this.elements.confirm=document.createElement("div"),this.elements.container.appendChild(this.elements.confirm),this.elements.alert=document.createElement("div"),this.elements.container.appendChild(this.elements.alert),this.elements.push=document.createElement("div"),this.elements.container.appendChild(this.elements.push),this.elements.folder=document.createElement("div"),this.elements.container.appendChild(this.elements.folder),this.elements.story=document.createElement("div"),this.elements.container.appendChild(this.elements.story);try{document.body.appendChild(a)}catch(b){}}},setSettings:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(b[c]&&b[c].constructor===Object&&!b[c].nodeType?(a[c]=a[c]||{},a[c]=this.setSettings(a[c],b[c])):a[c]=b[c]);return a},getWinDocWidthHeight:function(){return{window:{width:window.innerWidth||document.documentElement.clientWidth||0,height:window.innerHeight||document.documentElement.clientHeight||0},document:{width:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth),height:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}}},getScroll:function(){return"pageXOffset"in window&&"pageYOffset"in window?{left:window.pageXOffset,top:window.pageYOffset}:document.body&&"scrollLeft"in document.body&&"scrollTop"in document.body?{left:document.body.scrollLeft,top:document.body.scrollTop}:document.documentElement&&"scrollLeft"in document.documentElement&&"scrollTop"in document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},setPosition:function(a,c){var d,e,f=0,g=0,h={},i={left:0,top:0};"string"==typeof a?(f=Math.round(b(c).outerWidth(!0)),g=Math.round(b(c).outerHeight(!0)),/center/gi.test(a)&&(h=this.getWinDocWidthHeight(),h.window.width>f?i.left=Math.round(h.window.width/2)-Math.round(f/2):i.left=0,h.window.height>g?i.top=Math.round(h.window.height/2)-Math.round(g/2):i.top=0,d=Math.max(h.window.height,h.document.height),e=Math.round(i.top+g),e>d&&(i.top=i.top-Math.round(e-d)),i.left<0&&(i.left=0),i.top<0&&(i.top=0)),/^top/.test(a)?b(c).get(0).style.top="0px":/^bottom/.test(a)?b(c).get(0).style.bottom="0px":/^center/.test(a)&&(b(c).get(0).style.top=i.top+"px"),/left$/.test(a)?b(c).get(0).style.left="0px":/right$/.test(a)?b(c).get(0).style.right="0px":/center$/.test(a)&&(b(c).get(0).style.left=i.left+"px")):"object"==typeof a&&("left"in a?b(c).get(0).style.left=a.left+"px":"right"in a&&(b(c).get(0).style.right=a.right+"px"),"top"in a?b(c).get(0).style.top=a.top+"px":"bottom"in a&&(b(c).get(0).style.bottom=a.bottom+"px"))},setRect:function(a,c,d){var e,f,g,h={},i=d.getBoundingClientRect(),j=this.getScroll();e=Math.round(b(c).outerWidth(!0)),f=Math.round(b(c).outerHeight(!0)),h.left=i.left+(j.left||0),h.top=i.top+(j.top||0),h.width=Math.round(b(d).outerWidth(!0)),h.height=Math.round(b(d).outerHeight(!0)),/^top/.test(a)?b(c).get(0).style.top=h.top-f+"px":/^bottom/.test(a)?b(c).get(0).style.top=h.top+h.height+"px":/^left/.test(a)?b(c).get(0).style.left=h.left-e+"px":/^right/.test(a)&&(b(c).get(0).style.left=h.left+h.width+"px"),/left$/.test(a)?b(c).get(0).style.left=h.left+"px":/center$/.test(a)?(g=Math.round(Math.abs(e-h.width)/2),e>h.width?b(c).get(0).style.left=h.left-g+"px":b(c).get(0).style.left=h.left+g+"px"):/right$/.test(a)?(g=Math.round(Math.abs(e-h.width)),e>h.width?b(c).get(0).style.left=h.left-g+"px":b(c).get(0).style.left=h.left+g+"px"):/top$/.test(a)?b(c).get(0).style.top=h.top+"px":/middle$/.test(a)?(g=Math.round(Math.abs(f-h.height)/2),f>h.height?b(c).get(0).style.top=h.top-g+"px":b(c).get(0).style.top=h.top+g+"px"):/bottom$/.test(a)&&(g=Math.round(Math.abs(f-h.height)),f>h.height?b(c).get(0).style.top=h.top-g+"px":b(c).get(0).style.top=h.top+g+"px")}},new a}(),g=function(a){var c=this;c.settings={key:"",position:"center",mask:null,callback:{show:null,hide:null,remove:null,error:null,resize:null},"theme:":{},target:"",close:""},c.settings=f.setSettings(c.settings,a),c.elements={},c.time=null,c.before={"margin-right":"",overflow:"",position:"",width:"",height:""},f.init(),function(){try{c.settings.target="string"==typeof c.settings.target&&/^[a-z]+/i.test(c.settings.target)?"#"+c.settings.target:c.settings.target,c.elements.contents="object"==typeof c.settings.target&&c.settings.target.nodeType?c.settings.target:b(c.settings.target).get(0),c.elements.contents.style.position="absolute",c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.layer.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; display: none; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; outline: none; -webkit-overflow-scrolling: touch;",c.elements.container.appendChild(c.elements.contents),f.elements.layer.appendChild(c.elements.container),"none"===c.elements.contents.style.display&&(c.elements.contents.style.display="block"),"safari"===d.browser.name&&(b(c.elements.mask).on(d.event.down+".EVENT_DOWN_"+c.settings.key,function(a){f.stopCapture(a),f.stopBubbling(a)}),b(c.elements.mask).on(d.event.move+".EVENT_MOVE_"+c.settings.key,function(a){f.stopCapture(a),f.stopBubbling(a)}),b(c.elements.mask).on(d.event.up+".EVENT_UP_"+c.settings.key,function(a){f.stopCapture(a),f.stopBubbling(a)})),c.settings.close&&b(c.elements.contents).find("."+c.settings.close).on(d.event.click,function(a){c.hide()})}catch(a){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,a)}}()};g.prototype={change:function(a){var b=this;return b},position:function(){var a=this;try{f.setPosition(a.settings.position,a.elements.contents)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(a){var c=this,a=a||{},e=f.getWinDocWidthHeight();try{c.before["margin-right"]=b("html").css("margin-right"),c.before.overflow=b("html").css("overflow"),e.window.height<e.document.height&&b("html").css({"margin-right":d.browser.scrollbar+"px",overflow:"hidden"}),c.before.position=b("html").css("position"),"safari"===d.browser.name&&b("html").css({position:"fixed"}),(c.settings.mask===!0||c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType)&&(c.elements.mask.style.zIndex=++f.zindex,c.elements.mask.style.display="block"),c.elements.container.style.zIndex=++f.zindex,c.elements.container.style.display="block",c.position(),f.active=document.activeElement,c.elements.container.setAttribute("tabindex",-1),c.elements.container.focus(),b(window).on(d.event.resize+".EVENT_RESIZE_"+c.settings.key,function(a){window.clearTimeout(c.time),c.time=window.setTimeout(function(){c.position()},200)}),"function"==typeof c.settings.callback.show&&c.settings.callback.show.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(g){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,g)}},hide:function(a){var c=this,a=a||{};try{b("html").css({"margin-right":c.before["margin-right"],overflow:c.before.overflow,position:c.before.position}),c.elements.container.style.display="none",(c.settings.mask===!0||c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType)&&(c.elements.mask.style.display="none"),f.active&&f.active.focus(),b(window).off(d.event.resize+".EVENT_RESIZE_"+c.settings.key),"function"==typeof c.settings.callback.hide&&c.settings.callback.hide.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(e){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,e)}},remove:function(a){var c=this,a=a||{};try{b("html").css({"margin-right":c.before["margin-right"],overflow:c.before.overflow,position:c.before.position}),c.elements.mask&&c.elements.mask.parentNode.removeChild(c.elements.mask),c.elements.container&&c.elements.container.parentNode.removeChild(c.elements.container),c.elements={},c.settings.key&&f.instance[c.settings.key]&&delete f.instance[c.settings.key],b(window).off(d.event.resize+".EVENT_RESIZE_"+c.settings.key),"function"==typeof c.settings.callback.remove&&c.settings.callback.remove.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(e){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,e)}},find:function(a){var c=this;try{return b(c.elements.container).find(a)}catch(d){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,d)}}};var h=function(a){var c=this;c.settings={key:"",position:"bottomcenter",mask:null,callback:{show:null,hide:null,remove:null,error:null},"theme:":{},target:"",rect:""},c.settings=f.setSettings(c.settings,a),c.elements={},c.time=null,f.init(),function(){try{c.settings.target="string"==typeof c.settings.target&&/^[a-z]+/i.test(c.settings.target)?"#"+c.settings.target:c.settings.target,c.elements.contents="object"==typeof c.settings.target&&c.settings.target.nodeType?c.settings.target:b(c.settings.target).get(0),c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",document.body.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: absolute; display: none; left: 0; top: 0; outline: none; -webkit-overflow-scrolling: touch;",c.elements.container.appendChild(c.elements.contents),document.body.appendChild(c.elements.container),"none"===c.elements.contents.style.display&&(c.elements.contents.style.display="block"),c.settings.rect="string"==typeof c.settings.rect&&/^[a-z]+/i.test(c.settings.rect)?"#"+c.settings.rect:c.settings.rect,c.elements.rect="object"==typeof c.settings.rect&&c.settings.rect.nodeType?c.settings.rect:b(c.settings.rect).get(0)}catch(a){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,a)}}()};h.prototype={change:function(a){},position:function(){var a=this;try{f.setRect(a.settings.position,a.elements.container,a.elements.rect)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(a){var c=this,a=a||{};try{(c.settings.mask===!0||c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType)&&(c.elements.mask.style.zIndex=++f.zindex,c.elements.mask.style.display="block"),c.elements.container.style.zIndex=++f.zindex,c.elements.container.style.display="block",c.position(),f.active=document.activeElement,c.elements.container.setAttribute("tabindex",-1),c.elements.container.focus(),b(window).on(d.event.resize+".EVENT_RESIZE_"+c.settings.key,function(a){window.clearTimeout(c.time),c.time=window.setTimeout(function(){c.position()},200)}),"function"==typeof c.settings.callback.show&&c.settings.callback.show.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(e){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,e)}},hide:function(a){var c=this,a=a||{};try{c.elements.container.style.display="none",(c.settings.mask===!0||c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType)&&(c.elements.mask.style.display="none"),f.active&&f.active.focus(),b(window).off(d.event.resize+".EVENT_RESIZE_"+c.settings.key),"function"==typeof c.settings.callback.hide&&c.settings.callback.hide.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(e){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,e)}},remove:function(a){var c=this,a=a||{};try{c.elements.mask&&c.elements.mask.parentNode.removeChild(c.elements.mask),c.elements.container&&c.elements.container.parentNode.removeChild(c.elements.container),c.elements={},c.settings.key&&f.instance[c.settings.key]&&delete f.instance[c.settings.key],b(window).off(d.event.resize+".EVENT_RESIZE_"+c.settings.key),"function"==typeof c.settings.callback.remove&&c.settings.callback.remove.call(c),"function"==typeof a.callback&&a.callback.call(c)}catch(e){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,e)}},toggle:function(){var a=this;try{"none"===a.elements.container.style.display?a.show():a.hide()}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}}};var i=function(a){var c=this;c.settings={key:"",display:{index:!1,button:!1},callback:{show:null,hide:null,remove:null,error:null,prev:null,next:null},"theme:":{},prev:"",next:"",step:[]},c.settings=f.setSettings(c.settings,a),c.elements={},c.index=0,f.init(),function(){var a,d,e=document.createDocumentFragment(),g="";try{for(c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.step.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; display: none; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; outline: none; -webkit-overflow-scrolling: touch;",a=0,d=c.settings.step.length;d>a;a++)g+="<li></li>";for(c.elements.container.innerHTML='					<div id="" style="">						<ul>'+g+'</ul>					</div>					<div id="" style=""></div>					<div id="" style="">						<button id="" style="float: left;"></button>						<button id="" style="float: right;"></button>					</div>				',e.appendChild(c.elements.container),c.elements.contents=[],a=0,d=c.settings.step.length;d>a;a++)c.elements.contents[a]="object"==typeof c.settings.step[a]&&c.settings.step[a].nodeType?c.settings.step[a]:b("#"+c.settings.step[a]).get(0),c.elements.contents[a].style.display="none";f.elements.step.appendChild(e)}catch(h){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,h)}}()};i.prototype={change:function(){},position:function(){},show:function(){},hide:function(){},prev:function(){},next:function(){}};var j=function(a){var c=this;c.settings={key:"",position:"topcenter",mask:!0,callback:{show:null,hide:null,remove:null,error:null,ok:function(){return!0},cancel:function(){return!1}},"theme:":{},title:"Message",message:""},c.settings=f.setSettings(c.settings,a),c.elements={},f.init(),function(){var a=document.createDocumentFragment(),g={};try{g.title=e(),g.message=e(),g.cancel=e(),g.ok=e(),c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.confirm.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; display: none; margin: 10px; width: 290px; font-size: 12px; color: #333; border: 1px solid #D7D8D9; background-color: #FFF; border-radius: 3px; box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, .08); outline: none;",c.elements.container.innerHTML='					<div id="'+g.title+'" style="padding: 18px 18px 10px 18px; font-weight: bold; color: #333; background-color: rgba(255, 255, 255, .97); border-radius: 3px 3px 0 0;">'+c.settings.title+'</div>					<div id="'+g.message+'" style="padding: 10px 18px 18px 18px; min-height: 67px; color: #333; background-color: rgba(255, 255, 255, .97);">'+c.settings.message+'</div>					<div style="padding: 10px 18px; background: rgba(248, 249, 250, .97); text-align: right; border-top: 1px solid rgb(240, 241, 242); border-radius: 0 0 3px 3px;">						<button id="'+g.cancel+'" style="margin: 0 0 0 10px; padding: 5px 10px; background-color: rgb(248, 249, 250); background: linear-gradient(#FFF, #F0F1F2); border: 1px solid #CCC; color: #AAACAD; font-size: 12px; font-weight: bold; text-align: center; text-shadow: 0 1px #FFF; white-space: nowrap; border-radius: 3px; vertical-align: middle; cursor: pointer;">CANCEL</button>						<button id="'+g.ok+'" style="margin: 0 0 0 10px; padding: 5px 10px; background-color: rgb(248, 249, 250); background: linear-gradient(#FFF, #F0F1F2); border: 1px solid #CCC; color: #AAACAD; font-size: 12px; font-weight: bold; text-align: center; text-shadow: 0 1px #FFF; white-space: nowrap; border-radius: 3px; vertical-align: middle; cursor: pointer;">OK</button>					</div>				',a.appendChild(c.elements.container),f.elements.confirm.appendChild(a),c.elements.title=c.elements.container.querySelector("#"+g.title),c.elements.message=c.elements.container.querySelector("#"+g.message),c.elements.cancel=c.elements.container.querySelector("#"+g.cancel),c.elements.ok=c.elements.container.querySelector("#"+g.ok),b(c.elements.cancel).on(d.event.click,function(){return c.hide(),"function"==typeof c.settings.callback.cancel?c.settings.callback.cancel.call(c):void 0}),b(c.elements.ok).on(d.event.click,function(){return c.hide(),"function"==typeof c.settings.callback.ok?c.settings.callback.ok.call(c):void 0})}catch(h){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,h)}}()};j.prototype={change:function(a){var b,c,d=this;try{for(b in a)switch(b){case"type":case"key":break;case"title":d.elements.title.textContent=a[b]||"";break;case"message":d.elements.message.innerHTML=a[b]||"";break;case"callback":for(c in a[b])a[b].hasOwnProperty(c)&&"function"==typeof a[b][c]&&(d.settings.callback[c]=a[b][c]);break;default:d.settings[b]=a[b]}}catch(e){"function"==typeof d.settings.callback.error&&d.settings.callback.error.call(d,e)}return d},position:function(){var a=this;try{f.setPosition(a.settings.position,a.elements.container)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(a){var b=this,a=a||{};try{(b.settings.mask===!0||b.settings.mask&&"object"==typeof b.settings.mask&&b.settings.mask.nodeType)&&(b.elements.mask.style.zIndex=++f.zindex,b.elements.mask.style.display="block"),b.elements.container.style.zIndex=++f.zindex,b.elements.container.style.display="block",b.position(),f.active=document.activeElement,b.elements.container.setAttribute("tabindex",-1),b.elements.container.focus(),"function"==typeof b.settings.callback.show&&b.settings.callback.show.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}},hide:function(a){var b=this,a=a||{};try{if(b.elements.container.style.display="none",(b.settings.mask===!0||b.settings.mask&&"object"==typeof b.settings.mask&&b.settings.mask.nodeType)&&(b.elements.mask.style.display="none"),f.active&&f.active.focus(),"function"==typeof b.settings.callback.hide)return b.settings.callback.hide.call(b);"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}},remove:function(a){var b=this,a=a||{};try{b.elements.mask&&b.elements.mask.parentNode.removeChild(b.elements.mask),b.elements.container&&b.elements.container.parentNode.removeChild(b.elements.container),b.elements={},b.settings.key&&f.instance[b.settings.key]&&delete f.instance[b.settings.key],"function"==typeof b.settings.callback.remove&&b.settings.callback.remove.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}}};var k=function(a){var c=this;c.settings={key:"",position:"topcenter",mask:!0,callback:{show:null,hide:null,remove:null,error:null},"theme:":{},title:"Message",message:""},c.settings=f.setSettings(c.settings,a),c.elements={},f.init(),function(){var a=document.createDocumentFragment(),g={};try{g.title=e(),g.message=e(),g.ok=e(),c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.alert.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; display: none; margin: 10px; width: 290px; font-size: 12px; color: #333; border: 1px solid #D7D8D9; background-color: #FFF; border-radius: 3px; box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, .08); outline: none;",c.elements.container.innerHTML='					<div id="'+g.title+'" style="padding: 18px 18px 10px 18px; font-weight: bold; color: #333; background-color: rgba(255, 255, 255, .97); border-radius: 3px 3px 0 0;">'+c.settings.title+'</div>					<div id="'+g.message+'" style="padding: 10px 18px 18px 18px; min-height: 67px; color: #333; background-color: rgba(255, 255, 255, .97);">'+c.settings.message+'</div>					<div style="padding: 10px 18px; background: rgba(248, 249, 250, .97); text-align: right; border-top: 1px solid rgb(240, 241, 242); border-radius: 0 0 3px 3px;">						<button id="'+g.ok+'" style="margin: 0 0 0 10px; padding: 5px 10px; background-color: rgb(248, 249, 250); background: linear-gradient(#FFF, #F0F1F2); border: 1px solid #CCC; color: #AAACAD; font-size: 12px; font-weight: bold; text-align: center; text-shadow: 0 1px #FFF; white-space: nowrap; border-radius: 3px; vertical-align: middle; cursor: pointer;">OK</button>					</div>				',a.appendChild(c.elements.container),f.elements.alert.appendChild(a),c.elements.title=c.elements.container.querySelector("#"+g.title),c.elements.message=c.elements.container.querySelector("#"+g.message),c.elements.ok=c.elements.container.querySelector("#"+g.ok),b(c.elements.ok).on(d.event.click,function(){c.hide()})}catch(h){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,h)}}()};k.prototype={change:function(a){var b,c,d=this;try{for(b in a)switch(b){case"type":case"key":break;case"title":d.elements.title.textContent=a[b]||"";break;case"message":d.elements.message.innerHTML=a[b]||"";break;case"callback":for(c in a[b])a[b].hasOwnProperty(c)&&"function"==typeof a[b][c]&&(d.settings.callback[c]=a[b][c]);break;default:d.settings[b]=a[b]}}catch(e){"function"==typeof d.settings.callback.error&&d.settings.callback.error.call(d,e)}return d},position:function(){var a=this;try{f.setPosition(a.settings.position,a.elements.container)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(a){var b=this,a=a||{};try{(b.settings.mask===!0||b.settings.mask&&"object"==typeof b.settings.mask&&b.settings.mask.nodeType)&&(b.elements.mask.style.zIndex=++f.zindex,b.elements.mask.style.display="block"),b.elements.container.style.zIndex=++f.zindex,b.elements.container.style.display="block",b.position(),f.active=document.activeElement,b.elements.container.setAttribute("tabindex",-1),b.elements.container.focus(),"function"==typeof b.settings.callback.show&&b.settings.callback.show.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}},hide:function(a){var b=this,a=a||{};try{b.elements.container.style.display="none",(b.settings.mask===!0||b.settings.mask&&"object"==typeof b.settings.mask&&b.settings.mask.nodeType)&&(b.elements.mask.style.display="none"),f.active&&f.active.focus(),"function"==typeof b.settings.callback.hide&&b.settings.callback.hide.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}},remove:function(a){var b=this,a=a||{};try{b.elements.mask&&b.elements.mask.parentNode.removeChild(b.elements.mask),b.elements.container&&b.elements.container.parentNode.removeChild(b.elements.container),b.elements={},b.settings.key&&f.instance[b.settings.key]&&delete f.instance[b.settings.key],"function"==typeof b.settings.callback.remove&&b.settings.callback.remove.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}}};var l=function(a){var c=this;c.settings={key:"",position:"topright",mask:null,callback:{show:null,hide:null,remove:null,error:null},"theme:":{},time:0,message:""},c.settings=f.setSettings(c.settings,a),c.elements={},c.time,f.init(),function(){var a=document.createDocumentFragment(),g={};try{g.message=e(),g.close=e(),c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType?(c.elements.mask=c.settings.mask,c.elements.mask.display="none"):(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.push.appendChild(c.elements.mask)),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; display: none; margin: 10px; width: 290px; font-size: 12px; color: #333; border: 1px solid #D7D8D9; background-color: #FFF; border-radius: 3px; box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, .08); outline: none;",c.elements.container.innerHTML='					<div id="'+g.message+'" style="padding: 12px 12px 6px 12px; min-height: 33px; color: #333; background-color: rgba(255, 255, 255, .97); border-radius: 3px 3px 0 0;">'+c.settings.message+'</div>					<div style="padding: 6px 12px 12px 12px; background: rgba(248, 249, 250, .97); text-align: center; border-top: 1px solid rgb(240, 241, 242); border-radius: 0 0 3px 3px;">						<button id="'+g.close+'" style="margin: 0; padding: 0; color: #5F6061; font-size: 12px; text-align: center; text-shadow: 0 1px #FFF; white-space: nowrap; cursor: pointer; background: transparent; border: none;">CLOSE</button>					</div>				',
a.appendChild(c.elements.container),f.elements.push.appendChild(a),c.elements.message=c.elements.container.querySelector("#"+g.message),c.elements.close=c.elements.container.querySelector("#"+g.close),b(c.elements.close).on(d.event.click,function(){c.hide()})}catch(h){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,h)}}()};l.prototype={change:function(a){var b,c,d=this;try{for(b in a)switch(b){case"type":case"key":break;case"time":d.settings.time=!isNaN(parseFloat(a[b]))&&a[b]||0;break;case"message":d.elements.message.innerHTML=a[b]||"";break;case"callback":for(c in a[b])a[b].hasOwnProperty(c)&&"function"==typeof a[b][c]&&(d.settings.callback[c]=a[b][c]);break;default:d.settings[b]=a[b]}}catch(e){"function"==typeof d.settings.callback.error&&d.settings.callback.error.call(d,e)}return d},position:function(){var a=this;try{f.setPosition(a.settings.position,a.elements.container)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(b){var c=this,b=b||{};try{(c.settings.mask===!0||c.settings.mask&&"object"==typeof c.settings.mask&&c.settings.mask.nodeType)&&(c.elements.mask.style.zIndex=++f.zindex,c.elements.mask.style.display="block"),c.elements.container.style.zIndex=++f.zindex,c.elements.container.style.display="block",c.position(),a.clearTimeout(c.time),"number"==typeof c.settings.time&&c.settings.time>0&&(c.time=a.setTimeout(function(){c.hide()},c.settings.time)),"function"==typeof c.settings.callback.show&&c.settings.callback.show.call(c),"function"==typeof b.callback&&b.callback.call(c)}catch(d){"function"==typeof c.settings.callback.error&&c.settings.callback.error.call(c,d)}},hide:function(a){var b=this,a=a||{};try{if(b.elements.container.style.display="none",(b.settings.mask===!0||b.settings.mask&&"object"==typeof b.settings.mask&&b.settings.mask.nodeType)&&(b.elements.mask.style.display="none"),"function"==typeof b.settings.callback.hide)return b.settings.callback.hide.call(b);"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}},remove:function(a){var b=this,a=a||{};try{b.elements.mask&&b.elements.mask.parentNode.removeChild(b.elements.mask),b.elements.container&&b.elements.container.parentNode.removeChild(b.elements.container),b.elements={},b.settings.key&&f.instance[b.settings.key]&&delete f.instance[b.settings.key],"function"==typeof b.settings.callback.remove&&b.settings.callback.remove.call(b),"function"==typeof a.callback&&a.callback.call(b)}catch(c){"function"==typeof b.settings.callback.error&&b.settings.callback.error.call(b,c)}}};var m=function(a){var c=this;c.settings={key:"",position:"center",mask:null,callback:{show:null,hide:null,remove:null,error:null,title:null},"theme:":{},grid:""},c.settings=f.setSettings(c.settings,a),c.elements={},c.width=300,c.width+=d.browser.scrollbar,function(){var a=document.createDocumentFragment(),g={};g.header=e(),g.title_input=e(),g.title_button=e(),g.close_button=e(),g.grid=e(),g.parent=e(),"boolean"==typeof c.settings.mask&&c.settings.mask===!0?(c.elements.mask=document.createElement("div"),c.elements.mask.style.cssText="position: fixed; display: none; left: 0px; top: 0px; width: 100%; height: 100%; background: #F0F1F2 none repeat scroll 0 0; opacity: .7;",f.elements.push.appendChild(c.elements.mask)):c.settings.mask&&"object"==typeof c.elements.mask&&c.elements.mask.nodeType&&(c.elements.mask=c.settings.mask,c.elements.mask.display="none"),c.elements.container=document.createElement("div"),c.elements.container.style.cssText="position: fixed; width: "+c.width+"px; box-shadow: 1px 1px 2px 0px rgba(0, 0, 0, .04); border: 1px solid rgb(240, 241, 242); border-radius: 0px; transition: left .5s, top .5s; outline: none;",c.elements.container.innerHTML='				<!-- header //-->				<header id="'+g.header+'" style="margin: 0 auto; height: 50px; background-color: rgb(255, 255, 255);">					<!-- 폴더명 입력 //-->					<div style="position: absolute; left: 20px; top: 12px;">						<input type="text" name="" value="" id="'+g.title_input+'" style="padding: 5px; width: 170px; height: 17px; background-color: rgb(248, 249, 250); border: 0; font-size: 13px; color: #4C4D4E; border-radius: 3px;">						<button id="'+g.title_button+'" style="padding: 0px; display: inline-block; position: relative; left: -45px; border: 0; background-color: transparent; font-size: 13px;">Done</button>					</div>					<!-- 폴더 닫기 등 버튼 //-->					<div style="position: absolute; right: 20px; top: 14px;">						<button id="'+g.close_button+'" style="padding: 0px; border: 0; background-color: transparent; font-size: 13px;">Close</button>					</div>				</header>				<!-- grid //-->				<div style="max-height: 200px; background-color: rgba(255, 255, 255, .97); border-top: 1px dashed rgb(240, 241, 242); border-bottom: 1px dashed rgb(240, 241, 242); overflow-x: hidden; overflow-y: auto;">					<div id="'+g.grid+'" data-type="content" style="margin: 0 auto;">						<!-- grid 로딩 메시지 //-->						<div style="min-height: 100px; font-size: 14px; color: #E1E2E3; text-align: center;">Grid Lodding...</div>					</div>				</div>				<!-- parent grid move //-->				<div id="'+g.parent+'" data-type="parent" data-folder="'+c.settings.key+'" data-grid="'+c.settings.grid+'" style="margin: 0 auto; padding-top: 32px; height: 68px; font-size: 14px; color: #E1E2E3; text-align: center; background-color: rgb(255, 255, 255); -moz-user-select: none;">					<!-- 상위폴더로 이동할 경우 여기로 드래그 //-->					If you go to the parent folder<br>and drag it here				</div>			',a.appendChild(c.elements.container),f.elements.push.appendChild(a),c.elements.header=c.elements.container.querySelector("#"+g.header),c.elements.title_input=c.elements.container.querySelector("#"+g.title_input),c.elements.title_button=c.elements.container.querySelector("#"+g.title_button),c.elements.close_button=c.elements.container.querySelector("#"+g.close_button),c.elements.grid=c.elements.container.querySelector("#"+g.grid),c.elements.parent=c.elements.container.querySelector("#"+g.parent),b(c.elements.title_button).on(d.event.click,function(a){var b=a||window.event,d=title_input.value;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,"function"==typeof c.settings.callback.title&&c.settings.callback.title(encodeURIComponent(d||""))}),b(c.elements.close_button).on(d.event.down,function(a){var b=a||window.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,c.hide()})}()};m.prototype={change:function(a){},position:function(){var a=this;try{f.setPosition(a.settings.position,a.elements.container)}catch(b){"function"==typeof a.settings.callback.error&&a.settings.callback.error.call(a,b)}return a},show:function(a){var b=this,a=a||{};b.settings.mask&&"object"==typeof b.elements.mask&&b.elements.mask.nodeType&&(b.elements.mask.style.zIndex=++f.zindex,b.elements.mask.style.display="block"),b.elements.container.style.zIndex=++f.zindex,b.elements.container.style.display="block",b.position(),f.active=document.activeElement,b.elements.container.setAttribute("tabindex",-1),b.elements.container.focus(),"function"==typeof b.settings.callback.show&&b.settings.callback.show.call(b),"function"==typeof a.callback&&a.callback.call(b)},hide:function(a){var b=this,a=a||{};b.elements.container.style.display="none",b.settings.mask&&"object"==typeof b.elements.mask&&b.elements.mask.nodeType&&(b.elements.mask.style.display="none"),f.active&&f.active.focus(),"function"==typeof b.settings.callback.hide&&b.settings.callback.hide.call(b),"function"==typeof a.callback&&a.callback.call(b)},remove:function(a){var b=this,a=a||{};b.elements.mask&&b.elements.mask.parentNode.removeChild(b.elements.mask),b.elements.container&&b.elements.container.parentNode.removeChild(b.elements.container),b.elements={},b.settings.key&&f.instance[b.settings.key]&&delete f.instance[b.settings.key],"function"==typeof a.callback&&a.callback.call(b)}};var n=function(){var a=function(){return"mobile"===d.monitor?function(){var a=this,c=document.createDocumentFragment(),g={};g.header=e(),g.progress=e(),g.bar=e(),g.content=e(),g.iframe=e(),g.button_group=e(),g.button_refresh=e(),g.button_hidden=e(),g.button_close=e(),a.elements.container=document.createElement("section"),a.elements.container.style.cssText="position: fixed;",a.elements.container.innerHTML='						<!-- content //-->						<div id="'+g.content+'" style="clear: both; width: 100%; box-sizing: border-box; height: 382px;">							<iframe id="'+g.iframe+'" srcdoc="" marginheight="0" marginwidth="0" scrolling="auto" src="" style="margin: 0px; padding: 0px; pointer-events: auto; background-color: rgb(246, 248, 250); box-sizing: border-box;" frameborder="0" height="100%" width="100%"></iframe>						</div>						<!-- header //-->						<header id="'+g.header+'" style="position: fixed; bottom: 5px; right: 5px; box-sizing: border-box;">							<!-- progressbar //-->							<div id="'+g.progress+'" style="position: absolute; top: -4px; width: 100%;">								<div id="'+g.bar+'" style="background-color: rgba(237, 85, 101, 0.65); width: 100%; height: 3px; border-radius: 1px; display: none;"></div>							</div>							<!-- button //-->							<div id="'+g.button_group+'" style="background-color: rgba(62, 65, 67, 0.97); box-shadow: 1px 1px 2px 0px rgba(0, 0, 0, 0.1); border-radius: 3px;">								<button id="'+g.button_refresh+'" style="width: 40px; height: 40px; background-image: url(&quot;./images/popup-buttons-40.png&quot;); background-position: 0px 0px; background-repeat: no-repeat;"></button>								<button id="'+g.button_hidden+'" style="width: 40px; height: 40px; background-image: url(&quot;./images/popup-buttons-40.png&quot;); background-position: -40px 0px; background-repeat: no-repeat;"></button>								<button id="'+g.button_close+'" style="width: 40px; height: 40px; background-image: url(&quot;./images/popup-buttons-40.png&quot;); background-position: -80px 0px; background-repeat: no-repeat;"></button>							</div>						</header>					',c.appendChild(a.elements.container),f.elements.story.appendChild(c),a.elements.header=a.elements.container.querySelector("#"+g.header),a.elements.progress=a.elements.container.querySelector("#"+g.progress),a.elements.bar=a.elements.container.querySelector("#"+g.bar),a.elements.content=a.elements.container.querySelector("#"+g.content),a.elements.iframe=a.elements.container.querySelector("#"+g.iframe),a.elements.button_group=a.elements.container.querySelector("#"+g.button_group),a.elements.button_refresh=a.elements.container.querySelector("#"+g.button_refresh),a.elements.button_hidden=a.elements.container.querySelector("#"+g.button_hidden),a.elements.button_close=a.elements.container.querySelector("#"+g.button_close),"safari"===d.browser.name&&(a.elements.content.style.cssText="overflow: auto; -webkit-overflow-scrolling: touch;"),a.elements.iframe.onload=a.imports,b(a.elements.button_refresh).on(d.event.down,function(b){var c=b||window.event;c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,a.imports()}),b(a.elements.button_hidden).on(d.event.down,function(b){var c=b||window.event;c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,a.hide()}),b(a.elements.button_close).on(d.event.down,function(b){var c=b||window.event;c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,a.elements.iframe.onload=null,a.remove()})}:function(){var a=this,c=document.createDocumentFragment(),g={};g.header=e(),g.title=e(),g.progress=e(),g.bar=e(),g.content=e(),g.iframe=e(),g.button_group=e(),g.button_refresh=e(),g.button_hidden=e(),g.button_size=e(),g.button_close=e(),g.right_resize=e(),g.bottom_resize=e(),g.right_bottom_resize=e();var h=0;h=d.check.touch===!0?16:10,a.elements.container=document.createElement("div"),a.elements.container.style.cssText="position: fixed; box-shadow: 1px 1px 2px 0px rgba(0, 0, 0, .04); border: 1px solid rgb(240, 241, 242); border-radius: 3px; transition: left .5s, top .5s;",a.elements.container.innerHTML='						<!-- header //-->						<header id="'+g.header+'" style="position: relative; width: 100%; height: 30px; background-color: rgba(62, 65, 67, 0.97); border-bottom: 1px solid rgb(62, 65, 67); box-sizing: border-box;">							<!-- title //-->							<div id="'+g.title+'" style="position: absolute; top: 7px; left: 18px; font-size: 12px; color: rgb(217, 217, 217); cursor: move; -moz-user-select: none;">'+a.settings.title+'</div>							<!-- progress //-->							<div id="'+g.progress+'" style="position: absolute; width: 100%; bottom: -4px;">								<div id="'+g.bar+'" style="background-color: rgba(237, 85, 101, 0.65); width: 100%; height: 3px; border-radius: 1px; display: none;"></div>							</div>							<!-- button //-->							<div id="'+g.button_group+'" style="position: absolute; top: 0px; right: 0px; padding: 0px 9px;">								<button id="'+g.button_refresh+'" style="width: 30px; height: 30px; background-image: url(&quot;./images/popup-buttons-30.png&quot;); background-position: 0px 0px; background-repeat: no-repeat;"></button>								<button id="'+g.button_hidden+'" style="width: 30px; height: 30px; background-image: url(&quot;./images/popup-buttons-30.png&quot;); background-position: -30px 0px; background-repeat: no-repeat;"></button>								'+(d.check.fullscreen===!0?'<button id="'+g.button_size+'" style="width: 30px; height: 30px; background-image: url(&quot;./images/popup-buttons-30.png&quot;); background-position: -60px 0px; background-repeat: no-repeat;"></button>':"")+'								<button id="'+g.button_close+'" style="width: 30px; height: 30px; background-image: url(&quot;./images/popup-buttons-30.png&quot;); background-position: -90px 0px; background-repeat: no-repeat;"></button>							</div>						</header>						<!-- content //-->						<div id="'+g.content+'" style="width: 100%; clear: both; box-sizing: border-box; height: 352px;">							<iframe id="'+g.iframe+'" width="100%" height="100%" frameborder="0" style="margin: 0px; padding: 0px; pointer-events: auto; background-color: rgb(246, 248, 250); box-sizing: border-box;" src="" scrolling="auto" marginwidth="0" marginheight="0" srcdoc=""></iframe>						</div>						<!-- resize //-->						<div id="'+g.right_resize+'" style="top: 0px; right: -'+h+"px; width: "+h+'px; height: 100%; cursor: e-resize; position: absolute; display: block;"></div>						<div id="'+g.bottom_resize+'" style="left: 0px; bottom: -'+h+"px; width: 100%; height: "+h+'px; cursor: s-resize; position: absolute; display: block;"></div>						<div id="'+g.right_bottom_resize+'" style="right: -'+h+"px; bottom: -"+h+"px; width: "+h+"px; height: "+h+'px; cursor: se-resize; position: absolute; display: block;"></div>					',c.appendChild(a.elements.container),f.elements.story.appendChild(c),a.elements.header=a.elements.container.querySelector("#"+g.header),a.elements.title=a.elements.container.querySelector("#"+g.title),a.elements.progress=a.elements.container.querySelector("#"+g.progress),a.elements.bar=a.elements.container.querySelector("#"+g.bar),a.elements.content=a.elements.container.querySelector("#"+g.content),a.elements.iframe=a.elements.container.querySelector("#"+g.iframe),a.elements.button_group=a.elements.container.querySelector("#"+g.button_group),a.elements.button_refresh=a.elements.container.querySelector("#"+g.button_refresh),a.elements.button_hidden=a.elements.container.querySelector("#"+g.button_hidden),a.elements.button_size=a.elements.container.querySelector("#"+g.button_size),a.elements.button_close=a.elements.container.querySelector("#"+g.button_close),a.elements.right_resize=a.elements.container.querySelector("#"+g.right_resize),a.elements.bottom_resize=a.elements.container.querySelector("#"+g.bottom_resize),a.elements.right_bottom_resize=a.elements.container.querySelector("#"+g.right_bottom_resize),a.elements.iframe.onload=a.imports,b(a.elements.button_refresh).on(d.event.down,function(a){var b=a||window.event;b.touches;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault?b.preventDefault():b.returnValue=!1,setIframeHTML.call(this,instance)}),b(a.elements.button_hidden).on(d.event.down,function(b){var c=b||window.event;c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,a.hide()}),b(a.elements.button_size).on(d.event.down,function(b){var c=b||window.event;c.touches;document.fullscreenElement&&null!==document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():a.elements.iframe.requestFullscreen?a.elements.iframe.requestFullscreen():a.elements.iframe.mozRequestFullScreen?a.elements.iframe.mozRequestFullScreen():a.elements.iframe.webkitRequestFullscreen?a.elements.iframe.webkitRequestFullscreen():a.elements.iframe.msRequestFullscreen&&a.elements.iframe.msRequestFullscreen(),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1}),b(a.elements.button_close).on(d.event.down,function(b){var c=b||window.event;c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,a.elements.iframe.onload=null,a.remove()}),b(a.elements.header).on(d.event.down,function(c){var e=c||window.event,g=e.touches;if(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,!(g&&g.length&&1<g.length)){if(b(a.elements.button_group).contains(e.target))return console.log("[경고] button_group 내부 target"),!1;a.left=0,a.top=0,a.zindex+=1,a.elements.container.style.zIndex=a.zindex;var h={down:{left:0,top:0},move:{left:0,top:0}};g?(h.down.top=g[0].pageY,h.down.left=g[0].pageX):(h.down.top=e.pageY,h.down.left=e.pageX),h.down.top=h.down.top-utility.getNumber(a.elements.container.style.top),h.down.left=h.down.left-utility.getNumber(a.elements.container.style.left);var i,j,k=[],l=f.elements.story.querySelectorAll("section");for(i=0,j=l.length;j>i;i++)a.elements.container.isEqualNode(l[i])===!1&&l[i].style&&"none"!==l[i].style.display&&k.push({top:parseInt(l[i].offsetTop),left:parseInt(l[i].offsetLeft),bottom:parseInt(l[i].offsetTop+l[i].offsetHeight),right:parseInt(l[i].offsetLeft+l[i].offsetWidth)});a.elements.iframe.style.pointerEvents="none",b(window).on(d.event.move+".EVENT_MOUSEMOVE_popup_story_move",function(b){var c=b||window.event,d=c.touches||c.changedTouches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,d?(h.move.top=d[0].pageY,h.move.left=d[0].pageX):(h.move.top=c.pageY,h.move.left=c.pageX);var e=h.move.top-h.down.top,f=h.move.left-h.down.left,g=parseInt(e+a.elements.container.offsetHeight),i=parseInt(f+a.elements.container.offsetWidth);a.elements.container.scrollIntoView(!1);var j,l,m=a.snap;for(j=0,l=k.length;l>j;j++)if(e<k[j].bottom+m&&g>k[j].top-m&&i>k[j].left-m&&f<k[j].right+m){Math.abs(k[j].left-f)<=m?f=k[j].left:Math.abs(k[j].left-i)<=m?f=k[j].left-container.offsetWidth:Math.abs(k[j].right-i)<=m?f=k[j].right-container.offsetWidth:Math.abs(k[j].right-f)<=m&&(f=k[j].right),Math.abs(k[j].top-e)<=m?e=k[j].top:Math.abs(k[j].top-g)<=m&&(e=k[j].top-container.offsetHeight),Math.abs(k[j].bottom-g)<=m?e=k[j].bottom-container.offsetHeight:Math.abs(k[j].bottom-e)<=m&&(e=k[j].bottom);break}e>=0&&(a.elements.container.style.top=e+"px"),f>=0&&(a.elements.container.style.left=f+"px")}),b(window).on(d.event.up+".EVENT_MOUSEUP_popup_story_move",function(c){var d=c||window.event;d.changedTouches;d.preventDefault?d.preventDefault():d.returnValue=!1,b(window).off(".EVENT_MOUSEMOVE_popup_story_move"),b(window).off(".EVENT_MOUSEUP_popup_story_move"),a.elements.iframe.style.pointerEvents="auto"})}});var i=function(c){return c&&"function"==typeof c?(a.zindex+=1,a.elements.container.style.zIndex=a.zindex,console.log("on"),a.elements.container.style.border="1px dashed #000",b("iframe",a.element.story).css({pointerEvents:"none"}),void b(window).on(d.event.move+".EVENT_MOUSEMOVE_popup_story_resize",function(a){var b=a||window.event,d=b.touches||b.changedTouches;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault?b.preventDefault():b.returnValue=!1;var e,f;d?(e=d[0].clientY,f=d[0].clientX):(e=b.clientY,f=b.clientX),c({top:e,left:f})})):!1},j=function(c){b(window).on(d.event.up+".EVENT_MOUSEUP_popup_story_resize",function(d){var e=d||window.event;e.changedTouches;console.log("off"),b(window).off(".EVENT_MOUSEMOVE_popup_story_resize"),b(window).off(".EVENT_MOUSEUP_popup_story_resize"),b("iframe",a.element.story).css({pointerEvents:"auto"}),container.style.border="1px solid rgb(62, 65, 67)",document.documentElement.style.cursor="auto",c&&"function"==typeof c&&c()})};b(right_resize).on(d.event.down,function(b){var c=b||window.event,d=c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,d&&d.length&&1<d.length||(document.documentElement.style.cursor="e-resize",i(function(b){var b=b||{},c=b.left||0;b.top||0;c-=utility.getNumber(container.style.left),c-=h,c>=0&&a.settings.min.width<=c&&(window.localStorage.setItem(instance.form+instance.key+"width",c),container.style.width=c+"px")}),j())}),b(bottom_resize).on(d.event.down,function(b){var c=b||window.event,d=c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,d&&d.length&&1<d.length||(document.documentElement.style.cursor="s-resize",i(function(b){var b=b||{},c=(b.left||0,b.top||0);c-=utility.getNumber(container.style.top),c-=h,c>=0&&a.settings.min.height<=c&&(window.localStorage.setItem(instance.form+instance.key+"height",c),container.style.height=c+"px",content.style.height=utility.getNumber(container.style.height)-utility.getNumber(header.style.height)+"px")}),j())}),b(right_bottom_resize).on(d.event.down,function(b){var c=b||window.event,d=c.touches;c.stopPropagation?c.stopPropagation():c.cancelBubble=!0,c.preventDefault?c.preventDefault():c.returnValue=!1,d&&d.length&&1<d.length||(document.documentElement.style.cursor="se-resize",i(function(b){var b=b||{},c=b.left||0,d=b.top||0;c-=utility.getNumber(container.style.left),c-=h,c>=0&&a.settings.min.width<=c&&(window.localStorage.setItem(instance.form+instance.key+"width",c),container.style.width=c+"px"),d-=utility.getNumber(container.style.top),d-=h,d>=0&&a.settings.min.height<=d&&(window.localStorage.setItem(instance.form+instance.key+"height",d),container.style.height=d+"px",content.style.height=utility.getNumber(container.style.height)-utility.getNumber(header.style.height)+"px")}),j())})}}(),c=function(){var b=this;b.settings={key:"",callback:{show:null,hide:null,remove:null,error:null},"theme:":{},title:"",min:{width:300,height:300}},b.settings=f.setSettings(b.settings,settings),b.elements={},b.gap=20,b.snap=10,b.left=0,b.top=0,a.call(b)};return c.prototype={change:function(a){},show:function(a){var b=this,a=a||{};b.settings.mask&&"object"==typeof b.elements.mask&&b.elements.mask.nodeType&&(b.elements.mask.style.zIndex=++f.zindex,b.elements.mask.style.display="block"),b.elements.container.style.zIndex=++f.zindex,b.elements.container.style.display="block",f.active=document.activeElement,b.elements.container.setAttribute("tabindex",-1),b.elements.container.focus(),"function"==typeof b.settings.callback.show&&b.settings.callback.show.call(b),"function"==typeof a.callback&&a.callback.call(b)},hide:function(a){var b=this,a=a||{};b.elements.container.style.display="none",b.settings.mask&&"object"==typeof b.elements.mask&&b.elements.mask.nodeType&&(b.elements.mask.style.display="none"),f.active&&f.active.focus(),0<=b.left-b.gap&&(b.left-=b.gap),0<=b.top-b.gap&&(b.top-=b.gap),"function"==typeof b.settings.callback.hide&&b.settings.callback.hide.call(b),"function"==typeof a.callback&&a.callback.call(b)},remove:function(a){var b=this,a=a||{};b.elements.mask&&b.elements.mask.parentNode.removeChild(b.elements.mask),b.elements.container&&b.elements.container.parentNode.removeChild(b.elements.container),b.elements={},b.settings.key&&f.instance[b.settings.key]&&delete f.instance[b.settings.key],"function"==typeof a.callback&&a.callback.call(b)},imports:function(a){var c=this,a=a||{};b.ajax({type:"get",url:"./grid/story",data:{block:c.settings.key},progressDownload:function(a){"object"==typeof c.elements.bar&&(c.elements.bar.style.display="block",c.elements.bar.style.width=a+"%",a>=100&&(c.elements.bar.style.display="none"))},success:function(b){c.elements.iframe.onload=null,c.elements.iframe.srcdoc=decodeURIComponent(b||""),"function"==typeof a.callback&&a.callback.call(c)}})}},c}();return{setup:function(a){var b;if(a.key&&f.instance[a.key])b=f.instance[a.key],b.change&&b.change(a);else{switch(a.type){case"layer":a.key&&(b=new g(a));break;case"rect":a.key&&(b=new h(a));break;case"confirm":b=new j(a);break;case"alert":b=new k(a);break;case"push":b=new l(a);break;case"folder":a.key&&(b=new m(a));break;case"story":a.key&&(b=new n(a))}a.key&&(f.instance[a.key]=b)}return b},search:function(a){return f.instance[a]||!1}}},this);